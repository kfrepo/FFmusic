# FFmusic
### 利用 ffmpeg-3.3.9 实现 Android 平台音频播放  
</br>

- ##### 2019/7/30    添加seek，播放结束回调

- ##### 2019/7/30    添加播放器出错回调

- ##### 2019/7/26    添加停止播放释放内存

- ##### 2019/7/17    添加计算总时长、当前AVframe时间、当前播放时间以及实现回调

- ##### 2019/7/11    添加暂停、继续播放功能

- ##### 2019/7/4    FFmpeg解码音频，利用OpenSL ES完成音频播放

</br></br>
音频编码过程
音频信号的数字化就是将连续的模拟信号转换成离散的数字信号，一般需要完成采样、量化和编码三个步骤。
采样是指用每隔一定时间间隔的信号样本值序列来代替原来在时间上连续的信号。
量化是用有限个幅度近似表示原来在时间上连续变化的幅度值，把模拟信号的连续幅度变为有限数量、有一定时间间隔的离散值。
编码则是按照一定的规律，把量化后的离散值用二进制数码表示。上述数字化的过程又称为脉冲编码调制(Pulse Code Modulation) ，通常由 A/D 转换器来实现。


1、采样率
常用的音频采样频率有：8kHz、11.025kHz、22.05kHz、16kHz、37.8kHz、44.1kHz、48kHz、96kHz、192kHz等。

2、量化精度（位宽）  
4bit、8bit、16bit、32bit等等，位数越多，表示得就越精细，声音质量自然就越好，当然，数据量也会成倍增大。
常见的位宽是：8bit 或者 16bit


3、声道数（channels）  
由于音频的采集和播放是可以叠加的，因此，可以同时从多个音频源采集声音，并分别输出到不同的扬声器，故声道数一般表示声音录制时的音源数量或回放时相应的扬声器数量。

4、音频帧（frame）  
音频数据是流式的，本身没有明确的一帧帧的概念，在实际的应用中，为了音频算法处理/传输的方便，一般约定俗成取2.5ms~60ms为单位的数据量为一帧音频。
这个时间被称之为“采样时间”，其长度没有特别的标准，它是根据编×××和具体应用的需求来决定的，我们可以计算一下一帧音频帧的大小：

假设某通道的音频信号是采样率为8kHz，位宽为16bit，20ms一帧，双通道，则一帧音频数据的大小为：
int size = 8000 x 16bit x 0.02s  x 2 = 5120 bit = 640 byte